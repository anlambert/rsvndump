.TH rsvndump "1" "September 29th, 2008" "rsvndump 0.4" "User Commands"
.SH NAME
rsvndump \- dumps a remote subversion repository

.SH SYNOPSIS
.ll +8
.B rsvndump
.RI [options] \ url

.SH DESCRIPTION
.B rsvndump
is a command line tool that is able to dump a subversion repository that
resides on a remote server. All data is dumped in the format that can be
read/written by the
.BR svnadmin (1)
command, so the data produced by
.B rsvndump
can easily be imported into a new subversion repository.

Since
.B rsvndump
allows you to exclusively dump sub-paths of a repository, there are a few
differences to a normal dump:
.br
First, revision numbers are not synced with the remote repository but are simply
counted, starting from 1. Second, the url that has been specified serves as the
new repository root (but can be prefixed).
.br
Please note that these differences do not appear if the whole repository is
dumped, i.e. the given url points to the root of the repository. If a sub-path
of a repository is beingThere are situations where the dump of the repository
can slightly differ from the original repository in other terms, too. A
detailed description can be found under
.BR NOTES .

.B rsvndump
provides an offline and an online mode and defaults to offline mode. See below
for a detailed description and comparison of the modes.

.SH OPTIONS
Options in brackets are provided as synonyms:
.TP
.B "-h [--help]"
print a nice help screen
.TP
.B "-q [--quiet]"
be quiet
.TP
.B "-v [--verbose]"
print extra progress. This is not very expressive in offline mode.
.TP 
.BI "-u [--username]"\ username
username for repository authentication.
.br
If not specified and the repository does not provide anonymous access, the name
of the user that has run
.B rsvndump
if used. If repository access is still blocked, 
.B rsvndump
will ask for the username. If not specified and the given url is not a public
repository,
.B rsvndump
will first try your account name and will finally ask for the username on 
.IR stdin .
.TP
.BI "-p [--password]"\ password
password for repository authentication.
.br
If not specified and the given url does not provide anonymous read access,
.B rsvndump
will ask for the password.
.TP
.BI "-o [--outfile]"\ outfile
output file for the dumped data.
.br
If not specified,
.B rsvndump
will write all dumped data to
.IR stdout .
.TP
.BI "-d [--download-dir]"\ dir
directory where the working svn copy will be stored. 
.br
A working copy will only be used when dumping in offline mode (see below for
details). If not specified,
.B rsvndump
will create a temporary directory inside the system-wide temporary directory.
This directory will be cleared if the program exits.
.TP
.B --online
run in online mode as described below.
.TP
.BI "--prefix"\ prefix
A custom string that is prepended to every node that is being dumped. The first revision dumped will also contain the paths neccessary to create the prefix.
.br
It is assumed that the prefix is a path, with directories seperated by '/'. If you want the prefix to be a directory, please append a '/' at the end.
.TP
.BI "--stop"\ revision
Stop after dumping the specified revision, which can either be given by a decimal number or by
.BR HEAD .

.SH ONLINE vs. OFFLINE MODE
By default,
.B rsvndump
uses the offline mode, which means that a working
copy of the repository is kept at the local disk. The copy is then updated
frequently to each revision and most information is fetched
using the copy. This provides a fast dump for really remote repositories,
because all data can be transfered at once.
.PP
However, if you want to dump a repository in your local network that does
not consist of very much files per change, online mode will propably be faster than
offline mode. In online mode, all information is fetched directly from the
repository and no additional data is stored on the local hard disk.

.SH NOTES
Since
.B rsvndump
allows you to dump an arbitrary path inside of a repository, the dumped data
might not represent the exact history of the dumped path. This is due to the
fact that
.B rsvndump
has to resolve subversion copies if the source of the copy is either not
available in the current dump range (revision numbers are not synced) or may
reside in another sub-tree of the repository. Here, resolving means that the
data will be dumped as if it would have been added, not as if it would have been
copied.
.PP
Unlike
.BR svn (1),
.B rsvndump
does not save passwords or SSL certifactes on disk for later authentication.
Thus, passwords must be entered or passed as arguments everytime the program is
run. The same is true for accepting SSL certificates.
.PP
If only a single file is being dumped,
.B rsvndump
automatically switches to online mode since a working copy cannot be a file.

.SH ENVIRONMENT
.TP
.B TEMP
The parent directory of the temporary directory that will be used for the
working copy in offline mode.

.SH TODO
The current TODO list includes the use of deltas inside the dump output and
eventually incremental backups. MD5 checksums are also missing at the moment.
For feature requests, feel free to drop a mail. 

.SH AUTHOR
Jonas Gehring <jonas.gehring@boolsoft.org>

.SH SEE ALSO
.BR svn (1)
.BR svnadmin (1)
.BR svnsync (1)
